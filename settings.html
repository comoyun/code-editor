<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Settings</title>
        <link rel="stylesheet" href="./styles/settings.css" />
    </head>
    <body>
        <div class="container">
            <h1>Settings</h1>
            <div class="options">
                <label class="option">
                    <input type="checkbox" id="autosave" />
                    <p class="text-content">
                        Auto Save
                        <span class="italic"
                            >(saves the code automatically as you
                            type...)</span
                        >
                    </p>
                </label>
                <label class="option">
                    <input type="checkbox" id="consoleprint" />
                    <p class="text-content">
                        Console Print
                        <span class="italic"
                            >(identical code JSON in console)</span
                        >
                    </p>
                </label>
                <div class="option">
                    <select id="tabsize">
                        <option value="2">2</option>
                        <option value="4">4</option>
                        <option value="6">6</option>
                    </select>
                    <p class="text-content">
                        Tab Size <span class="italic">(default is 2)</span>
                    </p>
                </div>
                <div class="option">
                    <select id="fontsize">
                        <option value="17px">17px</option>
                        <option value="18px">18px</option>
                        <option value="19px">19px</option>
                        <option value="20px">20px</option>
                        <option value="21px">21px</option>
                        <option value="22px">22px</option>
                        <option value="23px">23px</option>
                    </select>
                    <p class="text-content">
                        Font Size <span class="italic">(defualt is 17px)</span>
                    </p>
                </div>
                <br>
                <a href="./index.html" target="_self" style="color: #1aa; font-size: 18px;">&lt; Get Back to Editor</a>
            </div>
        </div>
        <script src="./scripts/_localStorageSupport.js"></script>
        <script src="./scripts/_tools.js"></script>
        <script>
            let autoSave = $("#autosave"),
                consolePrint = $("#consoleprint"),
                tabSize = $("#tabsize"),
                fontSize = $("#fontsize");

            autoSave.onchange = () => {
                storageSupport.setAutoSave(autoSave.checked);
            };

            consolePrint.onchange = () => {
                storageSupport.setConsolePrint(consolePrint.checked);
            };

            tabSize.onchange = () => {
                storageSupport.setTabSize(tabSize.value);
            };

            fontSize.onchange = () => {
                storageSupport.setFontSize(fontSize.value);
            };

            window.onload = () => {
                autoSave.checked = storageSupport.getAutoSave() === "true" ? true : false;
                consolePrint.checked = storageSupport.getConsolePrint() === "true"
                    ? true
                    : false;
                tabSize.value = storageSupport.getTabSize()
                    ? storageSupport.getTabSize()
                    : 2;
                fontSize.value = storageSupport.getFontSize()
                    ? storageSupport.getFontSize()
                    : 17;
            };
        </script>
    </body>
</html>
